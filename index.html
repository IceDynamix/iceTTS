<html lang="en">

<head>
    <title>iceTTS - Twitch Chat TTS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js"></script>
</head>

<body class="container mt-3 bg-dark">
    <div class="row g-3 m-3">
        <div class="bg-light p-3">
            <h1>iceTTS - Twitch Chat TTS</h1>
        </div>

        <div class="bg-light p-3">
            <h3>Channel Settings</h3>
            <div class="my-3">
                <label for="channel" class="form-label">Channel</label>
                <input type="text" class="form-control" id="channel" />
            </div>
            <button id="connect" class="btn btn-success me-3">Connect</button>
            <button id="disconnect" class="btn btn-danger me-3" style="display:none">Disconnect</button>
            <button id="test" class="btn btn-primary me-3">Test TTS Voice</button>
        </div>

        <div class="bg-light p-3">
            <h3>Speech Settings</h3>
            <div class="row">
                <label for="volume" class="col-2 form-label">Volume</label>
                <input type="range" class="col form-range" min="0" max="1" step="0.1" id="volume" />
                <span class="col-1" id="volume-label">0.25</span>
            </div>
            <div class="row">
                <label for="rate" class="col-2 form-label">Rate</label>
                <input type="range" class="col form-range" min="0.1" max="5" step="0.1" id="rate" />
                <span class="col-1" id="rate-label">1.0</span>
            </div>
            <div class="row">
                <label for="pitch" class="col-2 form-label">Pitch</label>
                <input type="range" class="col form-range" min="0" max="2" step="0.1" id="pitch" />
                <span class="col-1" id="pitch-label">1.0</span>
            </div>
        </div>

        <div class="bg-light p-3">
            <h3>Language Settings</h3>

            <label for="default-lang" class="form-label">Default Language <small class="text-muted">(available languages
                    depend on locally installed TTS languages)</small></label>
            <select id="default-lang" class="form-select"></select>
            <div class="form-check form-switch mt-3">
                <input class="form-check-input" type="checkbox" id="multi-lang-scan">
                <label class="form-check-label" for="multi-lang-scan">
                    Detect multiple text languages from text content
                </label>
            </div>
        </div>

        <div class="bg-light p-3">
            <h3>Filter Settings</h3>
            <div class="row">
                <div class="col">
                    <label for="replacements" class="form-label">Text Replacements <small>(uses <a
                               href="https://en.wikipedia.org/wiki/Regular_expression">RegEx</a>)</small></label>
                    <textarea class="form-control" id="replacements" rows="10"
                              style="font-family:monospace;white-space: pre;overflow-wrap: normal;overflow-x: scroll;"></textarea>
                    <p class="invalid-feedback" id="replacements-feedback"></p>
                </div>
                <div class="col-3">
                    <label for="blacklist" class="form-label">User Blacklist</label>
                    <textarea class="form-control" id="blacklist"
                              placeholder="Newline separated list of users" rows="10"></textarea>
                </div>
            </div>
        </div>
        <div class="text-center">
            <small><a href="https://github.com/IceDynamix/iceTTS" class="text-muted">Source Code</a></small>
        </div>
    </div>


    <div class="toast-container position-fixed bottom-0 end-0 m-3">
        <div id="toast-connected" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-body">
                Connected to Twitch Chat
            </div>
        </div>
        <div id="toast-disconnected" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-body">
                Disconnected from Twitch Chat
            </div>
        </div>
    </div>
</body>

<script src="tmi.min.js"></script>
<script src="_languageData.js"></script>
<script src="guessLanguage.js"></script>
<script src="index.js"></script>

</html>
